<ul>
  <li ng-repeat="record in vm.invenioSearchResults.hits.hits track by $index">
    <!-- FIXME find a better way to set the record url -->
    <h4><a target="_self" ng-href="/records/{{ record.id }}">{{ record.metadata.titles[0].title }}</a></h4>
    <p>
        <i ng-repeat='author in record.metadata.authors | limitTo:5'>
          {{ author.full_name }}
          <a ng-if='author.orcid' href="http://orcid.org/{{ author.orcid }}" target="_blank" class="author_orcid_image_link" title="{{ author.orcid }}"></a>{{$last ? '' : '; '}}
          <span ng-if='$index === 4'>
          ; et al
          </span>
        </i>
    </p>
    <p ng-repeat='abstract in record.metadata.abstracts'>
      {{ abstract.value | limitTo:600}}
      <span ng-if='abstract.value.length > 600'>
          ...
      </span>
    </p>
    <small>
        Published in: <b>{{ record.metadata.publication_info[0].journal_title }}</b> {{ record.metadata.publication_info[0].journal_issue }} ({{ record.metadata.publication_info[0].year }}) {{ record.metadata.publication_info[0].page_artid }} by <b>{{ record.metadata.imprints[0].publisher }}</b>
    </small><br>
    <small ng-if='record.metadata.dois[0]'>
        DOI: <a href='http://dx.doi.org/{{ record.metadata.dois[0].value }}'>{{ record.metadata.dois[0].value }}</a>
    </small>
    <small ng-if='record.metadata.report_numbers[0]'>
        arXiv: <a href='http://arxiv.org/abs/{{ record.metadata.report_numbers[0].value }}'>{{ record.metadata.report_numbers[0].value }}</a>
    </small>
    <hr />
  </li>
</ul>
